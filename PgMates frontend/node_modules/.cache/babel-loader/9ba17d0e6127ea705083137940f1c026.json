{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\Final CDAC Project\\\\PgMates frontend\\\\src\\\\pages\\\\Apartments.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Apartments() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const state = useSelector(state => state);\n  const role = state.loggedin.Role;\n  console.log(role);\n  const navigate = useNavigate();\n\n  const deleteApartment = id => {\n    axios.delete('http://localhost:8080/api/apartments/' + id).then(resp => {\n      Swal.fire({\n        title: resp.data\n      });\n      navigate('/apartments');\n    }).catch(error => {\n      Swal.fire({\n        title: 'Apartment already in use'\n      });\n    });\n  };\n\n  useEffect(() => {\n    if (role === 'Admin') {\n      axios.get('http://localhost:8080/api/apartments/').then(resp => {\n        setData(resp.data);\n      });\n    } else {\n      axios.get('http://localhost:8080/api/apartments/owners/' + sessionStorage.getItem(\"id\")).then(resp => {\n        setData(resp.data);\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5\",\n      children: [role === 'Owner' ? /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/addnew\",\n        className: \"btn btn-primary btn-sm float-end\",\n        children: \"Add Apartment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"p-2\",\n        children: \"Apartment List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-bordered\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Owner Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"District\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Rental\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: data.map(x => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: x.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: x.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: x.owner.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: x.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: x.city\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: x.district\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"Rs. \", x.rent, \"/month\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: role === 'Admin' ? /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => deleteApartment(x.id),\n                className: \"btn btn-outline-danger btn-sm float-end\",\n                children: \"Delete Apartment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 29\n              }, this) : /*#__PURE__*/_jsxDEV(Link, {\n                to: '/apartmentdetails/' + x.id,\n                className: \"btn btn-primary btn-sm\",\n                children: \"Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 21\n            }, this)]\n          }, x.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Apartments, \"LVAVakqMv2gpNeHmuiGrKYIhoPE=\", false, function () {\n  return [useSelector, useNavigate];\n});\n\n_c = Apartments;\n\nvar _c;\n\n$RefreshReg$(_c, \"Apartments\");","map":{"version":3,"sources":["C:/Users/DELL/Desktop/Final CDAC Project/PgMates frontend/src/pages/Apartments.jsx"],"names":["axios","useEffect","useState","useSelector","Link","useNavigate","Swal","Apartments","data","setData","state","role","loggedin","Role","console","log","navigate","deleteApartment","id","delete","then","resp","fire","title","catch","error","get","sessionStorage","getItem","map","x","name","owner","address","city","district","rent","e"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default function Apartments(){\r\n    const [data,setData]=useState([])\r\n    const state=useSelector((state)=>state);\r\n    const role=state.loggedin.Role\r\n    console.log(role)\r\n    const navigate=useNavigate()\r\n    const deleteApartment=id=>{\r\n        axios.delete('http://localhost:8080/api/apartments/'+id)\r\n        .then(resp=>{\r\n            Swal.fire({title:resp.data})\r\n            navigate('/apartments')\r\n        })\r\n        .catch(error=>{\r\n            Swal.fire({title:'Apartment already in use'})\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n        if(role==='Admin'){\r\n        axios.get('http://localhost:8080/api/apartments/')\r\n        .then(resp=>{\r\n            setData(resp.data)\r\n        })  \r\n        }else{\r\n        axios.get('http://localhost:8080/api/apartments/owners/'+sessionStorage.getItem(\"id\"))\r\n        .then(resp=>{\r\n            setData(resp.data)\r\n        })\r\n    }\r\n    },[])\r\n    return(\r\n        <>\r\n        <div className=\"container mt-5\">\r\n            {role==='Owner'?(\r\n            <Link to=\"/addnew\" className=\"btn btn-primary btn-sm float-end\">Add Apartment</Link>\r\n            ):\"\"}\r\n            <h5 className=\"p-2\">Apartment List</h5>\r\n            <table className=\"table table-bordered\">\r\n            <thead>\r\n                <th>Id</th>\r\n                <th>Name</th>\r\n                <th>Owner Name</th>\r\n                <th>Address</th>\r\n                <th>City</th>\r\n                <th>District</th>\r\n                <th>Rental</th>                \r\n                <th>Action</th>\r\n            </thead>\r\n            <tbody>\r\n            {data.map(x=>(\r\n                <tr key={x.id}>\r\n                    <td>{x.id}</td>\r\n                    <td>{x.name}</td>\r\n                    <td>{x.owner.name}</td>\r\n                    <td>{x.address}</td>\r\n                    <td>{x.city}</td>\r\n                    <td>{x.district}</td>\r\n                    <td>Rs. {x.rent}/month</td>\r\n                    <td>\r\n                        {role==='Admin'?(\r\n                            <button onClick={e=>deleteApartment(x.id)} className=\"btn btn-outline-danger btn-sm float-end\">Delete Apartment</button>\r\n                        ):(\r\n                        <Link to={'/apartmentdetails/'+x.id} className=\"btn btn-primary btn-sm\">Details</Link>\r\n                        )}\r\n                    </td>\r\n                </tr>\r\n            ))}\r\n\r\n            </tbody>\r\n            </table>\r\n        </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}